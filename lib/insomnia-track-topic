#!/usr/bin/awk -f

/^[0-9]+ \[.+\] \*\*\* .+ has set the topic to: .+$/ {
	topic = $10
	for (i = 11; i <= NF; i++)
		topic = topic " " $i

	printf("\033]2;%s\033\\", topic)
}

{
	print
	fflush()
}
